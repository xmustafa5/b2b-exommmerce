{"openapi":"3.0.0","info":{"title":"Lilium B2B E-commerce API","description":"Complete API documentation for Lilium B2B multi-vendor platform with cash-on-delivery system","version":"1.0.0"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{}},"paths":{"/api/health/":{"get":{"tags":["Health"],"description":"Health check endpoint","responses":{"200":{"description":"Service is healthy","content":{"application/json":{"schema":{"description":"Service is healthy","type":"object","properties":{"status":{"type":"string"},"timestamp":{"type":"string"},"uptime":{"type":"number"},"database":{"type":"string"}}}}}}}}},"/api/users/":{"get":{"tags":["Users"],"description":"Get all users","parameters":[{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"200":{"description":"List of users","content":{"application/json":{"schema":{"description":"List of users","type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}}}}}}}}}},"/api/users/{id}":{"get":{"tags":["Users"],"description":"Get user by ID","parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true},{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"200":{"description":"User details","content":{"application/json":{"schema":{"description":"User details","type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}}}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"description":"User not found","type":"object","properties":{"error":{"type":"string"}}}}}}}},"put":{"tags":["Users"],"description":"Update user","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","minLength":2},"email":{"type":"string","format":"email"}}}}}},"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true},{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"200":{"description":"Updated user","content":{"application/json":{"schema":{"description":"Updated user","type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"updatedAt":{"type":"string"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"description":"Forbidden","type":"object","properties":{"error":{"type":"string"}}}}}}}},"delete":{"tags":["Users"],"description":"Delete user","parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true},{"schema":{"type":"string"},"in":"header","name":"authorization","required":true}],"responses":{"204":{"description":"User deleted successfully"},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"description":"Forbidden","type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/auth/login/dashboard":{"post":{"summary":"Dashboard login for vendors and admins","tags":["auth"],"description":"Login endpoint for VENDOR, COMPANY_MANAGER, ADMIN, and SUPER_ADMIN roles","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":6}}}}},"required":true},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"description":"Successful login","type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"role":{"type":"string"},"companyId":{"type":"string","nullable":true}}},"tokens":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}}}}}}},"401":{"description":"Invalid credentials or unauthorized role","content":{"application/json":{"schema":{"description":"Invalid credentials or unauthorized role","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/auth/login/mobile":{"post":{"summary":"Mobile login for shop owners","tags":["auth"],"description":"Login endpoint for SHOP_OWNER role only","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","minLength":6}}}}},"required":true},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"description":"Successful login","type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"businessName":{"type":"string","nullable":true},"phone":{"type":"string","nullable":true},"role":{"type":"string"},"zones":{"type":"array","items":{"type":"string"}}}},"tokens":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}}}}}}},"401":{"description":"Invalid credentials or unauthorized role","content":{"application/json":{"schema":{"description":"Invalid credentials or unauthorized role","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/auth/me":{"get":{"summary":"Get current user profile","tags":["auth"],"description":"Returns the profile of the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User profile","content":{"application/json":{"schema":{"description":"User profile","type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"businessName":{"type":"string","nullable":true},"role":{"type":"string"},"zones":{"type":"array","items":{"type":"string"},"nullable":true}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"description":"Unauthorized","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"description":"Internal server error","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/auth/logout":{"post":{"summary":"Logout user","tags":["auth"],"description":"Invalidates the current user session","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Successfully logged out","content":{"application/json":{"schema":{"description":"Successfully logged out","type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"description":"Internal server error","type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/auth/refresh":{"post":{"summary":"Refresh access token","tags":["auth"],"description":"Generate new access token using refresh token","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"type":"string"}}}}},"required":true},"responses":{"200":{"description":"New tokens","content":{"application/json":{"schema":{"description":"New tokens","type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}}}}},"401":{"description":"Invalid refresh token","content":{"application/json":{"schema":{"description":"Invalid refresh token","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/auth/password/request-reset":{"post":{"summary":"Request password reset","tags":["auth"],"description":"Send password reset email to user","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email"}}}}},"required":true},"responses":{"200":{"description":"Request processed","content":{"application/json":{"schema":{"description":"Request processed","type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"description":"Internal server error","type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/auth/password/reset":{"post":{"summary":"Reset password","tags":["auth"],"description":"Reset password using token from email","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["token","newPassword"],"properties":{"token":{"type":"string"},"newPassword":{"type":"string","minLength":6}}}}},"required":true},"responses":{"200":{"description":"Password reset successful","content":{"application/json":{"schema":{"description":"Password reset successful","type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Invalid or expired token","content":{"application/json":{"schema":{"description":"Invalid or expired token","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/auth/password":{"put":{"summary":"Update password","tags":["auth"],"description":"Change password for authenticated user","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["currentPassword","newPassword"],"properties":{"currentPassword":{"type":"string","minLength":6},"newPassword":{"type":"string","minLength":6}}}}},"required":true},"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Password updated successfully","content":{"application/json":{"schema":{"description":"Password updated successfully","type":"object","properties":{"message":{"type":"string"}}}}}},"400":{"description":"Invalid current password","content":{"application/json":{"schema":{"description":"Invalid current password","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/products/":{"get":{"responses":{"200":{"description":"Default Response"}}},"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/products/featured":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/products/category/{categoryId}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"categoryId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/products/{id}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/products/{id}/stock":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/products/bulk":{"patch":{"responses":{"200":{"description":"Default Response"}}},"delete":{"responses":{"200":{"description":"Default Response"}}}},"/api/categories/":{"get":{"responses":{"200":{"description":"Default Response"}}},"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/categories/stats":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/categories/{id}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/categories/reorder":{"patch":{"responses":{"200":{"description":"Default Response"}}}},"/api/upload/single":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/upload/multiple":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/upload/{filename}":{"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"filename","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/orders/":{"get":{"responses":{"200":{"description":"Default Response"}}},"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/orders/stats":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/orders/{id}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/orders/{id}/status":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/promotions/":{"get":{"responses":{"200":{"description":"Default Response"}}},"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/promotions/active/{zone}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"zone","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/promotions/{id}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/promotions/{id}/toggle":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/promotions/apply-to-cart":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/company":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/company/{id}":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/stats":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/products":{"get":{"responses":{"200":{"description":"Default Response"}}},"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/products/{id}":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/products/{id}/stock":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/orders":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/orders/{id}/status":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/customers":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/export/{type}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"type","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/vendors/orders/{id}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/cart/validate":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/summary":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/checkout":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/save":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/saved":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/clear":{"delete":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/merge":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/promotions":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/check-availability":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/cart/delivery-fee":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/companies/":{"post":{"responses":{"200":{"description":"Default Response"}}},"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}":{"put":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}/stats":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}/status":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}/delivery-fees":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}/commission":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}/vendors":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}/products":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/zone/{zone}":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"zone","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/companies/{id}/payouts":{"get":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/analytics/dashboard/vendor":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/analytics/dashboard/admin":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/analytics/reports/sales":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/analytics/reports/commission":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/analytics/realtime":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/analytics/reports/export":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/request":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/balance":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/history":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/summary":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/{id}/status":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/{id}":{"delete":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/report":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/schedule":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/pending":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/bulk-approve":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/payouts/validate-bank":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/orders/{orderId}/status":{"patch":{"summary":"Update order status in delivery workflow","tags":["delivery"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED"]},"notes":{"type":"string"},"estimatedTime":{"type":"string","format":"date-time"},"location":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}}}},"required":["status"]}}},"required":true},"parameters":[{"schema":{"type":"string"},"in":"path","name":"orderId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/orders/bulk-status":{"patch":{"summary":"Bulk update order statuses","tags":["delivery"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"orderIds":{"type":"array","items":{"type":"string"}},"status":{"type":"string","enum":["PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED"]}},"required":["orderIds","status"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/orders/status/{status}":{"get":{"summary":"Get orders by delivery status","tags":["delivery"],"parameters":[{"schema":{"type":"string","enum":["PENDING","CONFIRMED","PROCESSING","SHIPPED","DELIVERED","CANCELLED","REFUNDED"]},"in":"path","name":"status","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/orders/{orderId}/assign-driver":{"post":{"summary":"Assign delivery driver to order","tags":["delivery"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"driverId":{"type":"string"}},"required":["driverId"]}}},"required":true},"parameters":[{"schema":{"type":"string"},"in":"path","name":"orderId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/orders/{orderId}/cash-collection":{"post":{"summary":"Record cash collection for COD order","tags":["delivery"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"number","minimum":0},"notes":{"type":"string"}},"required":["amount"]}}},"required":true},"parameters":[{"schema":{"type":"string"},"in":"path","name":"orderId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/metrics":{"get":{"summary":"Get delivery metrics","tags":["delivery"],"parameters":[{"schema":{"type":"string","enum":["today","week","month"]},"in":"query","name":"period","required":false},{"schema":{"type":"string"},"in":"query","name":"companyId","required":false}],"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/track/{orderId}":{"get":{"summary":"Track delivery status","tags":["delivery"],"parameters":[{"schema":{"type":"string"},"in":"query","name":"phone","required":false},{"schema":{"type":"string"},"in":"path","name":"orderId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/delivery/active":{"get":{"summary":"Get active deliveries dashboard","tags":["delivery"],"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/create":{"post":{"summary":"Create settlement for a period","tags":["settlements"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"companyId":{"type":"string"},"periodStart":{"type":"string","format":"date-time"},"periodEnd":{"type":"string","format":"date-time"}},"required":["periodStart","periodEnd"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/summary":{"get":{"summary":"Get settlement summary","tags":["settlements"],"parameters":[{"schema":{"type":"string"},"in":"query","name":"companyId","required":false},{"schema":{"type":"string","format":"date"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string","format":"date"},"in":"query","name":"endDate","required":false}],"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/reconcile-cash":{"post":{"summary":"Reconcile cash collections for a period","tags":["settlements"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"companyId":{"type":"string"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"}},"required":["startDate","endDate"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/cash-collected":{"post":{"summary":"Mark cash as collected for an order","tags":["settlements"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"orderId":{"type":"string"},"amount":{"type":"number","minimum":0}},"required":["orderId","amount"]}}},"required":true},"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/pending-cash":{"get":{"summary":"Get pending cash collections","tags":["settlements"],"parameters":[{"schema":{"type":"string"},"in":"query","name":"companyId","required":false}],"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/daily":{"post":{"summary":"Process daily settlement","tags":["settlements"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"companyId":{"type":"string"}}}}}},"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/{settlementId}/verify":{"patch":{"summary":"Verify and approve settlement","tags":["settlements"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"notes":{"type":"string"}}}}}},"parameters":[{"schema":{"type":"string"},"in":"path","name":"settlementId","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/history":{"get":{"summary":"Get settlement history","tags":["settlements"],"parameters":[{"schema":{"type":"string"},"in":"query","name":"companyId","required":false},{"schema":{"type":"integer","minimum":1,"maximum":100,"default":10},"in":"query","name":"limit","required":false}],"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/platform-earnings":{"get":{"summary":"Calculate platform earnings for a period","tags":["settlements"],"parameters":[{"schema":{"type":"string","format":"date"},"in":"query","name":"startDate","required":true},{"schema":{"type":"string","format":"date"},"in":"query","name":"endDate","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/settlements/cash-flow":{"get":{"summary":"Get cash flow report","tags":["settlements"],"parameters":[{"schema":{"type":"string"},"in":"query","name":"companyId","required":false},{"schema":{"type":"string","format":"date"},"in":"query","name":"startDate","required":false},{"schema":{"type":"string","format":"date"},"in":"query","name":"endDate","required":false}],"responses":{"200":{"description":"Default Response"}}}},"/api/internal/login":{"post":{"summary":"Internal team login","tags":["internal"],"description":"Login for Lilium internal team (lilium@lilium.iq)","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email","description":"Use: lilium@lilium.iq"},"password":{"type":"string","description":"Use: lilium@123"}}}}},"required":true},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"description":"Successful login","type":"object","properties":{"success":{"type":"boolean"},"authenticated":{"type":"boolean"},"token":{"type":"string"},"message":{"type":"string"}}}}}},"401":{"description":"Invalid credentials","content":{"application/json":{"schema":{"description":"Invalid credentials","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/internal/users/vendor":{"post":{"summary":"Create vendor account","tags":["internal"],"description":"Create a new vendor account for dashboard access","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","name","companyId"],"properties":{"email":{"type":"string","format":"email"},"name":{"type":"string","minLength":2},"password":{"type":"string","minLength":6,"nullable":true,"description":"Auto-generated if not provided"},"companyId":{"type":"string","format":"uuid"},"phone":{"type":"string","nullable":true},"zones":{"type":"array","items":{"type":"string","enum":["KARKH","RUSAFA","SADR_CITY","KADHMIYA","ADHAMIYA","MANSOUR","ZAFARANIYA","KARRADA","NEW_BAGHDAD","AL_RASHID"]},"nullable":true}}}}},"required":true},"security":[{"bearerAuth":[]}],"responses":{"201":{"description":"Vendor created successfully","content":{"application/json":{"schema":{"description":"Vendor created successfully","type":"object","properties":{"success":{"type":"boolean"},"user":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"role":{"type":"string"},"companyId":{"type":"string"}}},"credentials":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"loginUrl":{"type":"string"}}},"message":{"type":"string"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"description":"Bad request","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/internal/users/company-manager":{"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/internal/users/shop-owner":{"post":{"summary":"Create shop owner account","tags":["internal"],"description":"Create a new shop owner account for mobile app access","requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["email","name","businessName","phone","zones"],"properties":{"email":{"type":"string","format":"email"},"name":{"type":"string","minLength":2},"businessName":{"type":"string","minLength":2},"phone":{"type":"string","pattern":"^[0-9+\\-\\s()]+$"},"password":{"type":"string","minLength":6,"nullable":true,"description":"Auto-generated if not provided"},"zones":{"type":"array","items":{"type":"string","enum":["KARKH","RUSAFA","SADR_CITY","KADHMIYA","ADHAMIYA","MANSOUR","ZAFARANIYA","KARRADA","NEW_BAGHDAD","AL_RASHID"]},"minItems":1},"address":{"type":"string","nullable":true}}}}},"required":true},"security":[{"bearerAuth":[]}],"responses":{"201":{"description":"Shop owner created successfully","content":{"application/json":{"schema":{"description":"Shop owner created successfully","type":"object","properties":{"success":{"type":"boolean"},"user":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"businessName":{"type":"string"},"phone":{"type":"string"},"role":{"type":"string"},"zones":{"type":"array","items":{"type":"string"}}}},"credentials":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"loginUrl":{"type":"string"}}},"message":{"type":"string"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"description":"Bad request","type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}}}}}}}}},"/api/internal/companies":{"get":{"responses":{"200":{"description":"Default Response"}}},"post":{"responses":{"200":{"description":"Default Response"}}}},"/api/internal/users":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/internal/users/{id}/deactivate":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/internal/users/{id}/activate":{"patch":{"parameters":[{"schema":{"type":"string"},"in":"path","name":"id","required":true}],"responses":{"200":{"description":"Default Response"}}}},"/api/internal/generate-password":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/internal/zones":{"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/internal/roles":{"get":{"responses":{"200":{"description":"Default Response"}}}}},"servers":[{"url":"http://localhost:3000","description":"Development server"}],"tags":[{"name":"health","description":"Health check endpoints"},{"name":"auth","description":"Authentication endpoints"},{"name":"users","description":"User management endpoints"},{"name":"products","description":"Product management endpoints"},{"name":"categories","description":"Category management endpoints"},{"name":"orders","description":"Order management endpoints"},{"name":"promotions","description":"Promotion management endpoints"},{"name":"companies","description":"Company management endpoints"},{"name":"vendors","description":"Vendor operations endpoints"},{"name":"cart","description":"Shopping cart endpoints"},{"name":"delivery","description":"Delivery and fulfillment endpoints"},{"name":"settlements","description":"Settlement management endpoints"},{"name":"analytics","description":"Analytics and reporting endpoints"},{"name":"payouts","description":"Payout management endpoints"},{"name":"upload","description":"File upload endpoints"},{"name":"internal","description":"Internal system endpoints"}]}